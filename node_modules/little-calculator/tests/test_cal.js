const test = require('tape')
const Calculator = require('../index')


test('test digit char', t => {
    const calculator = new Calculator()
    const char = '3'
    t.equal(calculator.isNumberChar(char), true, `character ${char} is digit.`)
    t.end();
})


test('test calculate result', t => {
    const calculator = new Calculator(true)
    const exp = '( 3 + 13) / 2 + 5 - 3 * 2'
    const exp2 = '2.5 * 2 - 2 * 2'
    const exp3 = '3 + -2 * 2 + 2^2 + abs(-2)'

    const correctRes = 7
    const correctRes2 = 1
    const correctRes3 = 5

    t.equal(calculator.compute(exp), correctRes, `The result of ${exp} should be ${correctRes}`)
    t.equal(calculator.compute(exp2), correctRes2, `The result of ${exp2} should be ${correctRes2}`)
    t.equal(calculator.compute(exp3), correctRes3, `The result of ${exp3} should be ${correctRes3}`)
    t.end();
})